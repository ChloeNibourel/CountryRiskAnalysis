<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Country Risk Analysis: simulate/market.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="North_America.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Country Risk Analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ce429edffdc5ffa3d8eb198b9fed2715.html">simulate</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">market.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="market_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;../headers/country.h&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;../headers/market.h&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="market_8cpp.html#aacc62c850c580aa6046890a964bc3779">   13</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="market_8cpp.html#aacc62c850c580aa6046890a964bc3779">ProductionShock</a>(<a class="code" href="classcountry.html">country</a>* mycountry, <a class="code" href="classcountry.html">country</a>* foreigncountry1, <a class="code" href="classcountry.html">country</a>* foreigncountry2, <span class="keywordtype">int</span> choice, <span class="keywordtype">int</span> choicea, <span class="keywordtype">int</span> choiceb, <a class="code" href="classmarket.html">market</a>* mymarket, <span class="keywordtype">double</span> change, <a class="code" href="classexportsnetwork.html">exportsnetwork</a>* nafta) {</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keywordtype">double</span> diff;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keywordtype">double</span> expforeigncountry1 = (*mymarket).exchange[choice-1][choicea-1]; <span class="comment">//exports from mycountry to foreigncountry1</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keywordtype">double</span> expforeigncountry2 = (*mymarket).exchange[choice-1][choiceb-1]; <span class="comment">//exports from mycountry to foreigncountry2</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordtype">double</span> impforeigncountry1 = (*mymarket).exchange[choicea-1][choice-1]; <span class="comment">//exports from foreigncountry1 to mycountry</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keywordtype">double</span> impforeigncountry2 = (*mymarket).exchange[choiceb-1][choice-1]; <span class="comment">//exports from foreigncountry2 to mycoutry</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        <span class="comment">//Percentage of total exports from foreign country 1 and 2 to mycountry</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keywordtype">double</span> ptotalexpfc1 = (*mymarket).exchange[choicea-1][choice-1]/(*nafta).exports[choicea-1][choice-1];</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="keywordtype">double</span> ptotalexpfc2 = (*mymarket).exchange[choiceb-1][choice-1]/(*nafta).exports[choiceb-1][choice-1];</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <span class="comment">//Definition of difference for country scaled to the largest market</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordflow">if</span>(impforeigncountry1 &lt; impforeigncountry2) {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        diff = (impforeigncountry2 - impforeigncountry1)/impforeigncountry2;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    }</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        diff = (impforeigncountry2 - impforeigncountry1)/impforeigncountry1;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    }</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">//If we have a positive shock on a market =&gt; good for domesticcoutry&#39;s export, bad for foreigncountry1 and foreigncountry2&#39;s exports. Defines which country between foreigncountry1 and foreigncountry2 is most at risk based on which market had a larger percent of total exports to that country. Took relative values for positive shocks.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (change &gt; 0) {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Good for &quot;</span> &lt;&lt; (*mycountry).name &lt;&lt; <span class="stringliteral">&quot;&#39;s &quot;</span> &lt;&lt; (*mymarket).good &lt;&lt; <span class="stringliteral">&quot; export market&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Risk for &quot;</span> &lt;&lt; (*foreigncountry1).name &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; (*foreigncountry2).name &lt;&lt; <span class="stringliteral">&quot;&#39;s &quot;</span> &lt;&lt;   (*mymarket).good &lt;&lt; <span class="stringliteral">&quot; export markets&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">if</span> (ptotalexpfc1 &gt; ptotalexpfc2) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;  Bigger risk for &quot;</span> &lt;&lt; (*foreigncountry1).name &lt;&lt; <span class="stringliteral">&quot;&#39;s economy&quot;</span>;   </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">if</span> (ptotalexpfc1 == ptotalexpfc2) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;  Equal risk for both countries.&quot;</span>; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">if</span> (ptotalexpfc1 &lt; ptotalexpfc2) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;  Bigger risk for &quot;</span> &lt;&lt; (*foreigncountry2).name &lt;&lt; <span class="stringliteral">&quot;&#39;s economy&quot;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    }</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">//If we have no shock on the market, it will have no effect on anything</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> (change == 0) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;No impact on &quot;</span> &lt;&lt; (*mycountry).name &lt;&lt; <span class="stringliteral">&quot;&#39;s economy.&quot;</span>; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">//If we have a negative shock on a market =&gt; risk for domestic country&#39;s exports, good for foreigncountry1 and foreigncountry2&#39;s exports. Defines which country between foreigncountry1 and foreigncountry2 will yield higher returns based on which country has the largest level of exports to the domestic country (in absolutes). Took absolute values for negative shocks</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (change &lt; 0) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Risk for &quot;</span> &lt;&lt; (*mycountry).name &lt;&lt; <span class="stringliteral">&quot;&#39;s &quot;</span> &lt;&lt; (*mymarket).good &lt;&lt; <span class="stringliteral">&quot; export market&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Good for &quot;</span> &lt;&lt; (*foreigncountry1).name &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; (*foreigncountry2).name &lt;&lt; <span class="stringliteral">&quot;&#39;s &quot;</span> &lt;&lt;   (*mymarket).good &lt;&lt; <span class="stringliteral">&quot; export markets&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">if</span> (diff &gt;= 0.1) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;  Investment in &quot;</span> &lt;&lt; (*foreigncountry2).name &lt;&lt; <span class="stringliteral">&quot;&#39;s export market will have higher returns.&quot;</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">if</span> (diff &lt; -0.1) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;  Investment in &quot;</span> &lt;&lt; (*foreigncountry1).name &lt;&lt; <span class="stringliteral">&quot;&#39;s export market will have higher returns.&quot;</span>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">if</span> (diff&gt;= -0.1 &amp; diff &lt;0.1) {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Investment in both &quot;</span> &lt;&lt; (*foreigncountry1).name &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; (*foreigncountry2).name                 &lt;&lt; <span class="stringliteral">&quot; &#39;s export markets will have approximately equal returns.&quot;</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="ttc" id="classexportsnetwork_html"><div class="ttname"><a href="classexportsnetwork.html">exportsnetwork</a></div><div class="ttdoc">contains data about total exports between countries </div><div class="ttdef"><b>Definition:</b> <a href="market_8h_source.html#l00033">market.h:33</a></div></div>
<div class="ttc" id="classcountry_html"><div class="ttname"><a href="classcountry.html">country</a></div><div class="ttdoc">contains data about countries : elasticity, GDP, imports... </div><div class="ttdef"><b>Definition:</b> <a href="country_8h_source.html#l00008">country.h:8</a></div></div>
<div class="ttc" id="market_8cpp_html_aacc62c850c580aa6046890a964bc3779"><div class="ttname"><a href="market_8cpp.html#aacc62c850c580aa6046890a964bc3779">ProductionShock</a></div><div class="ttdeci">void ProductionShock(country *mycountry, country *foreigncountry1, country *foreigncountry2, int choice, int choicea, int choiceb, market *mymarket, double change, exportsnetwork *nafta)</div><div class="ttdoc">Once the user has chosen production shock, he is asked about the impacted country, the market (food, fuel, or machinery), and the degree of the shock. Given his choices, the program generates the inputs for the ProductionShock function. The function outputs the effect on the domestic market and on its two trading partners&#39; markets. </div><div class="ttdef"><b>Definition:</b> <a href="market_8cpp_source.html#l00013">market.cpp:13</a></div></div>
<div class="ttc" id="classmarket_html"><div class="ttname"><a href="classmarket.html">market</a></div><div class="ttdoc">info about exchanges between usa - mexico - canada in a specific market : amount of exchanges and per...</div><div class="ttdef"><b>Definition:</b> <a href="market_8h_source.html#l00010">market.h:10</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
